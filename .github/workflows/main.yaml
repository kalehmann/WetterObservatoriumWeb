---
on: ["push"]

jobs:
        static-analysis:
                runs-on: "ubuntu-latest"
                name: "PHPStan static analysis"
                steps:
                        - uses: "actions/checkout@v2"
                        - uses: "php-actions/composer@v5"
                        - name: "PHPStan static analysis"
                          uses: "./.github/actions/static-analysis"
                          with:
                                  source-directories: "public/ src/ tests/"
        style-check:
                runs-on: "ubuntu-latest"
                name: "PHP CodeSniffer analysis"
                steps:
                        - uses: "actions/checkout@v2"
                        - uses: "php-actions/composer@v5"
                        - name: "PHP CodeSniffer analysis"
                          uses: "./.github/actions/code-sniffer"
                          with:
                                  source-directories: "public/ src/ tests/"
        unit-tests:
                runs-on: "ubuntu-latest"
                name: "PHPUnit tests"
                steps:
                        - uses: "actions/checkout@v2"
                        - uses: "php-actions/composer@v5"
                        - name: "PHPUnit tests"
                          uses: "./.github/actions/phpunit-tests"
                          with:
                                  path-to-tests: "tests/"
...
